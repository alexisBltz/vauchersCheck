{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://G%3A/Proyectos/VauchersCheck/vaucher_front/src/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useState } from \"react\"\nimport VoucherUploader from \"@/components/VoucherUploader\"\nimport ExtractedDataList from \"@/components/ExtractedDataList\"\nimport StatusMessage from \"@/components/StatusMessage\"\nimport VoucherReview from \"@/components/VoucherReview\"\n\ninterface ExtractedData {\n  id?: string\n  amount: number\n  transactionDate: string\n  transactionNumber: string\n  merchantName: string\n  items: Array<{\n    description: string\n    quantity: number\n    unitPrice: number\n    totalPrice: number\n  }>\n  totalAmount: number\n  taxAmount: number\n  currency: string\n  imageUrl?: string\n}\n\nexport default function Home() {\n  const [status, setStatus] = useState<{ type: \"success\" | \"error\" | \"loading\" | \"\"; message: string }>({\n    type: \"\",\n    message: \"\",\n  })\n  const [extractedData, setExtractedData] = useState<ExtractedData[]>([])\n  const [pendingVoucher, setPendingVoucher] = useState<ExtractedData | null>(null)\n\n  const handleUpload = async (file: File) => {\n    try {\n      setStatus({ type: \"loading\", message: \"Subiendo imagen...\" })\n\n      // Subir imagen\n      const formData = new FormData()\n      formData.append(\"file\", file)\n      const uploadResponse = await fetch(\"http://localhost:8080/vouchers/upload\", {\n        method: \"POST\",\n        body: formData,\n      })\n      const uploadData = await uploadResponse.json()\n\n      if (uploadData.status !== \"success\") {\n        throw new Error(\"Error al subir la imagen\")\n      }\n\n      setStatus({ type: \"loading\", message: \"Extrayendo datos...\" })\n\n      // Extraer datos\n      const extractResponse = await fetch(\"http://localhost:8080/vouchers/extract\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ imageUrl: uploadData.imageUrl }),\n      })\n      const extractData = await extractResponse.json()\n\n      if (extractData.status !== \"success\") {\n        throw new Error(\"Error al extraer los datos\")\n      }\n\n      // Set pending voucher\n      setPendingVoucher({\n        ...extractData.data,\n        imageUrl: uploadData.imageUrl,\n        id: Date.now().toString(), // Temporary ID\n      })\n\n      setStatus({ type: \"success\", message: \"Datos extraÃ­dos. Por favor, revise y guarde.\" })\n    } catch (error) {\n      setStatus({ type: \"error\", message: error instanceof Error ? error.message : \"Error desconocido\" })\n    }\n  }\n\n  const handleSave = async (voucherData: ExtractedData) => {\n    try {\n      setStatus({ type: \"loading\", message: \"Guardando datos...\" })\n\n      const saveResponse = await fetch(\"http://localhost:8080/vouchers/save\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          imageUrl: voucherData.imageUrl,\n          extractedData: voucherData,\n        }),\n      })\n      const saveData = await saveResponse.json()\n\n      if (saveData.status !== \"success\") {\n        throw new Error(saveData.message || \"Error al guardar los datos\")\n      }\n\n      setExtractedData((prevData) => [...prevData, voucherData])\n      setPendingVoucher(null)\n      setStatus({ type: \"success\", message: \"Voucher guardado exitosamente\" })\n    } catch (error) {\n      setStatus({ type: \"error\", message: error instanceof Error ? error.message : \"Error desconocido\" })\n    }\n  }\n\n  const handleDiscard = () => {\n    setPendingVoucher(null)\n    setStatus({ type: \"\", message: \"\" })\n  }\n\n  return (\n      <main className=\"container mx-auto p-4\">\n        <h1 className=\"text-2xl font-bold mb-6 text-center\">Sistema de Procesamiento de Vouchers</h1>\n        <div className=\"grid gap-6\">\n          <VoucherUploader onUpload={handleUpload} />\n          {status.message && <StatusMessage type={status.type} message={status.message} />}\n          {pendingVoucher && <VoucherReview voucherData={pendingVoucher} onSave={handleSave} onDiscard={handleDiscard} />}\n          <ExtractedDataList data={extractedData} />\n        </div>\n      </main>\n  )\n}\n\n"],"names":[],"mappings":";;;;AAEA;;;;;;;;;;;;;;;;;;;;;AAFA;;;;;;;AA0Be,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAmE;QACpG,MAAM;QACN,SAAS;IACX;IACA,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAmB,EAAE;IACtE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAwB;IAE3E,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,UAAU;gBAAE,MAAM;gBAAW,SAAS;YAAqB;YAE3D,eAAe;YACf,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YACxB,MAAM,iBAAiB,MAAM,MAAM,yCAAyC;gBAC1E,QAAQ;gBACR,MAAM;YACR;YACA,MAAM,aAAa,MAAM,eAAe,IAAI;YAE5C,IAAI,WAAW,MAAM,KAAK,WAAW;gBACnC,MAAM,IAAI,MAAM;YAClB;YAEA,UAAU;gBAAE,MAAM;gBAAW,SAAS;YAAsB;YAE5D,gBAAgB;YAChB,MAAM,kBAAkB,MAAM,MAAM,0CAA0C;gBAC5E,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,UAAU,WAAW,QAAQ;gBAAC;YACvD;YACA,MAAM,cAAc,MAAM,gBAAgB,IAAI;YAE9C,IAAI,YAAY,MAAM,KAAK,WAAW;gBACpC,MAAM,IAAI,MAAM;YAClB;YAEA,sBAAsB;YACtB,kBAAkB;gBAChB,GAAG,YAAY,IAAI;gBACnB,UAAU,WAAW,QAAQ;gBAC7B,IAAI,KAAK,GAAG,GAAG,QAAQ;YACzB;YAEA,UAAU;gBAAE,MAAM;gBAAW,SAAS;YAA+C;QACvF,EAAE,OAAO,OAAO;YACd,UAAU;gBAAE,MAAM;gBAAS,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAAoB;QACnG;IACF;IAEA,MAAM,aAAa,OAAO;QACxB,IAAI;YACF,UAAU;gBAAE,MAAM;gBAAW,SAAS;YAAqB;YAE3D,MAAM,eAAe,MAAM,MAAM,uCAAuC;gBACtE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU,YAAY,QAAQ;oBAC9B,eAAe;gBACjB;YACF;YACA,MAAM,WAAW,MAAM,aAAa,IAAI;YAExC,IAAI,SAAS,MAAM,KAAK,WAAW;gBACjC,MAAM,IAAI,MAAM,SAAS,OAAO,IAAI;YACtC;YAEA,iBAAiB,CAAC,WAAa;uBAAI;oBAAU;iBAAY;YACzD,kBAAkB;YAClB,UAAU;gBAAE,MAAM;gBAAW,SAAS;YAAgC;QACxE,EAAE,OAAO,OAAO;YACd,UAAU;gBAAE,MAAM;gBAAS,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAAoB;QACnG;IACF;IAEA,MAAM,gBAAgB;QACpB,kBAAkB;QAClB,UAAU;YAAE,MAAM;YAAI,SAAS;QAAG;IACpC;IAEA,qBACI,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAAsC;;;;;;0BACpD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAgB,UAAU;;;;;;oBAC1B,OAAO,OAAO,kBAAI,8OAAC;wBAAc,MAAM,OAAO,IAAI;wBAAE,SAAS,OAAO,OAAO;;;;;;oBAC3E,gCAAkB,8OAAC;wBAAc,aAAa;wBAAgB,QAAQ;wBAAY,WAAW;;;;;;kCAC9F,8OAAC;wBAAkB,MAAM;;;;;;;;;;;;;;;;;;AAInC"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file://G%3A/Proyectos/VauchersCheck/vaucher_front/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file://G%3A/Proyectos/VauchersCheck/vaucher_front/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file://G%3A/Proyectos/VauchersCheck/vaucher_front/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}